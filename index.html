<!DOCTYPE html>
<html>
    <body>
        <div id="main">
        </div>
        <script>
       function getLazarSoftScanner(){var y={};function e(e,t){this.count=e,this.dataCodewords=t,this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("DataCodewords",function(){return this.dataCodewords})}function t(e,t,n){this.ecCodewordsPerBlock=e,this.ecBlocks=n?new Array(t,n):new Array(t),this.__defineGetter__("ECCodewordsPerBlock",function(){return this.ecCodewordsPerBlock}),this.__defineGetter__("TotalECCodewords",function(){return this.ecCodewordsPerBlock*this.NumBlocks}),this.__defineGetter__("NumBlocks",function(){for(var e=0,t=0;t<this.ecBlocks.length;t++)e+=this.ecBlocks[t].length;return e}),this.getECBlocks=function(){return this.ecBlocks}}function _(e,t,n,i,r,a){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=new Array(n,i,r,a);for(var o=0,s=n.ECCodewordsPerBlock,h=n.getECBlocks(),c=0;c<h.length;c++){var d=h[c];o+=d.Count*(d.DataCodewords+s)}this.totalCodewords=o,this.__defineGetter__("VersionNumber",function(){return this.versionNumber}),this.__defineGetter__("AlignmentPatternCenters",function(){return this.alignmentPatternCenters}),this.__defineGetter__("TotalCodewords",function(){return this.totalCodewords}),this.__defineGetter__("DimensionForVersion",function(){return 17+4*this.versionNumber}),this.buildFunctionPattern=function(){var e=this.DimensionForVersion,t=new l(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var r=this.alignmentPatternCenters[i]-2,a=0;a<n;a++)0==i&&(0==a||a==n-1)||i==n-1&&0==a||t.setRegion(this.alignmentPatternCenters[a]-2,r,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),6<this.versionNumber&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},this.getECBlocksForLevel=function(e){return this.ecBlocks[e.ordinal()]}}function p(e,t,n,i,r,a,o,s,h){this.a11=e,this.a12=i,this.a13=o,this.a21=t,this.a22=r,this.a23=s,this.a31=n,this.a32=a,this.a33=h,this.transformPoints1=function(e){for(var t=e.length,n=this.a11,i=this.a12,r=this.a13,a=this.a21,o=this.a22,s=this.a23,h=this.a31,c=this.a32,d=this.a33,l=0;l<t;l+=2){var u=e[l],f=e[l+1],w=r*u+s*f+d;e[l]=(n*u+a*f+h)/w,e[l+1]=(i*u+o*f+c)/w}},this.transformPoints2=function(e,t){for(var n=e.length,i=0;i<n;i++){var r=e[i],a=t[i],o=this.a13*r+this.a23*a+this.a33;e[i]=(this.a11*r+this.a21*a+this.a31)/o,t[i]=(this.a12*r+this.a22*a+this.a32)/o}},this.buildAdjoint=function(){return new p(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},this.times=function(e){return new p(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}function m(e,t){this.bits=e,this.points=t}function u(e){this.image=e,this.resultPointCallback=null,this.sizeOfBlackWhiteBlackRun=function(e,t,n,i){var r,a=Math.abs(i-t)>Math.abs(n-e);a&&(r=e,e=t,t=r,r=n,n=i,i=r);for(var o=Math.abs(n-e),s=Math.abs(i-t),h=-o>>1,c=t<i?1:-1,d=e<n?1:-1,l=0,u=e,f=t;u!=n;u+=d){var w=a?f:u,g=a?u:f;if(1==l?this.image[w+g*A.width]&&l++:this.image[w+g*A.width]||l++,3==l){var _=u-e,m=f-t;return Math.sqrt(_*_+m*m)}if(0<(h+=s)){if(f==i)break;f+=c,h-=o}}var v=n-e,y=i-t;return Math.sqrt(v*v+y*y)},this.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,i){var r=this.sizeOfBlackWhiteBlackRun(e,t,n,i),a=1,o=e-(n-e);o<0?(a=e/(e-o),o=0):o>=A.width&&(a=(A.width-1-e)/(o-e),o=A.width-1);var s=Math.floor(t-(i-t)*a),a=1;return s<0?(a=t/(t-s),s=0):s>=A.height&&(a=(A.height-1-t)/(s-t),s=A.height-1),o=Math.floor(e+(o-e)*a),(r+=this.sizeOfBlackWhiteBlackRun(e,t,o,s))-1},this.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y)),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},this.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},this.distance=function(e,t){var n=e.X-t.X,i=e.Y-t.Y;return Math.sqrt(n*n+i*i)},this.computeDimension=function(e,t,n,i){var r=7+(Math.round(this.distance(e,t)/i)+Math.round(this.distance(e,n)/i)>>1);switch(3&r){case 0:r++;break;case 2:r--;break;case 3:throw"Error"}return r},this.findAlignmentInRegion=function(e,t,n,i){var r=Math.floor(i*e),a=Math.max(0,t-r),o=Math.min(A.width-1,t+r);if(o-a<3*e)throw"Error";var s=Math.max(0,n-r),h=Math.min(A.height-1,n+r);return new x(this.image,a,s,o-a,h-s,e,this.resultPointCallback).find()},this.createTransform=function(e,t,n,i,r){var a,o,s,h=r-3.5,c=s=null!=i?(a=i.X,o=i.Y,h-3):(a=t.X-e.X+n.X,o=t.Y-e.Y+n.Y,h);return p.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,c,s,3.5,h,e.X,e.Y,t.X,t.Y,a,o,n.X,n.Y)},this.sampleGrid=function(e,t,n){return y.sampleGrid3(e,n,t)},this.processFinderPatternInfo=function(e){var t=e.TopLeft,n=e.TopRight,i=e.BottomLeft,r=this.calculateModuleSize(t,n,i);if(r<1)throw"Error";var a=this.computeDimension(t,n,i,r),o=_.getProvisionalVersionForDimension(a),s=o.DimensionForVersion-7,h=null;if(0<o.AlignmentPatternCenters.length)for(var c=n.X-t.X+i.X,d=n.Y-t.Y+i.Y,l=1-3/s,u=Math.floor(t.X+l*(c-t.X)),f=Math.floor(t.Y+l*(d-t.Y)),w=4;w<=16;w<<=1){h=this.findAlignmentInRegion(r,u,f,w);break}var g=this.createTransform(t,n,i,h,a);return new m(this.sampleGrid(this.image,g,a),null==h?new Array(i,t,n):new Array(i,t,n,h))},this.detect=function(){var e=(new D).findFinderPattern(this.image);return this.processFinderPatternInfo(e)}}y.checkAndNudgePoints=function(e,t){for(var n=A.width,i=A.height,r=!0,a=0;a<t.length&&r;a+=2){var o=Math.floor(t[a]),s=Math.floor(t[a+1]);if(o<-1||n<o||s<-1||i<s)throw"Error.checkAndNudgePoints ";r=!1,-1==o?r=!(t[a]=0):o==n&&(t[a]=n-1,r=!0),-1==s?r=!(t[a+1]=0):s==i&&(t[a+1]=i-1,r=!0)}for(r=!0,a=t.length-2;0<=a&&r;a-=2){if(o=Math.floor(t[a]),s=Math.floor(t[a+1]),o<-1||n<o||s<-1||i<s)throw"Error.checkAndNudgePoints ";r=!1,-1==o?r=!(t[a]=0):o==n&&(t[a]=n-1,r=!0),-1==s?r=!(t[a+1]=0):s==i&&(t[a+1]=i-1,r=!0)}},y.sampleGrid3=function(e,t,n){for(var i=new l(t),r=new Array(t<<1),a=0;a<t;a++){for(var o=r.length,s=a+.5,h=0;h<o;h+=2)r[h]=.5+(h>>1),r[h+1]=s;n.transformPoints1(r),y.checkAndNudgePoints(e,r);try{for(h=0;h<o;h+=2)e[Math.floor(r[h])+A.width*Math.floor(r[h+1])]&&i.set_Renamed(h>>1,a)}catch(e){throw"Error.checkAndNudgePoints"}}return i},y.sampleGridx=function(e,t,n,i,r,a,o,s,h,c,d,l,u,f,w,g,_,m){var v=p.quadrilateralToQuadrilateral(n,i,r,a,o,s,h,c,d,l,u,f,w,g,_,m);return y.sampleGrid3(e,t,v)},_.VERSION_DECODE_INFO=new Array(31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017),_.VERSIONS=new Array(new _(1,new Array,new t(7,new e(1,19)),new t(10,new e(1,16)),new t(13,new e(1,13)),new t(17,new e(1,9))),new _(2,new Array(6,18),new t(10,new e(1,34)),new t(16,new e(1,28)),new t(22,new e(1,22)),new t(28,new e(1,16))),new _(3,new Array(6,22),new t(15,new e(1,55)),new t(26,new e(1,44)),new t(18,new e(2,17)),new t(22,new e(2,13))),new _(4,new Array(6,26),new t(20,new e(1,80)),new t(18,new e(2,32)),new t(26,new e(2,24)),new t(16,new e(4,9))),new _(5,new Array(6,30),new t(26,new e(1,108)),new t(24,new e(2,43)),new t(18,new e(2,15),new e(2,16)),new t(22,new e(2,11),new e(2,12))),new _(6,new Array(6,34),new t(18,new e(2,68)),new t(16,new e(4,27)),new t(24,new e(4,19)),new t(28,new e(4,15))),new _(7,new Array(6,22,38),new t(20,new e(2,78)),new t(18,new e(4,31)),new t(18,new e(2,14),new e(4,15)),new t(26,new e(4,13),new e(1,14))),new _(8,new Array(6,24,42),new t(24,new e(2,97)),new t(22,new e(2,38),new e(2,39)),new t(22,new e(4,18),new e(2,19)),new t(26,new e(4,14),new e(2,15))),new _(9,new Array(6,26,46),new t(30,new e(2,116)),new t(22,new e(3,36),new e(2,37)),new t(20,new e(4,16),new e(4,17)),new t(24,new e(4,12),new e(4,13))),new _(10,new Array(6,28,50),new t(18,new e(2,68),new e(2,69)),new t(26,new e(4,43),new e(1,44)),new t(24,new e(6,19),new e(2,20)),new t(28,new e(6,15),new e(2,16))),new _(11,new Array(6,30,54),new t(20,new e(4,81)),new t(30,new e(1,50),new e(4,51)),new t(28,new e(4,22),new e(4,23)),new t(24,new e(3,12),new e(8,13))),new _(12,new Array(6,32,58),new t(24,new e(2,92),new e(2,93)),new t(22,new e(6,36),new e(2,37)),new t(26,new e(4,20),new e(6,21)),new t(28,new e(7,14),new e(4,15))),new _(13,new Array(6,34,62),new t(26,new e(4,107)),new t(22,new e(8,37),new e(1,38)),new t(24,new e(8,20),new e(4,21)),new t(22,new e(12,11),new e(4,12))),new _(14,new Array(6,26,46,66),new t(30,new e(3,115),new e(1,116)),new t(24,new e(4,40),new e(5,41)),new t(20,new e(11,16),new e(5,17)),new t(24,new e(11,12),new e(5,13))),new _(15,new Array(6,26,48,70),new t(22,new e(5,87),new e(1,88)),new t(24,new e(5,41),new e(5,42)),new t(30,new e(5,24),new e(7,25)),new t(24,new e(11,12),new e(7,13))),new _(16,new Array(6,26,50,74),new t(24,new e(5,98),new e(1,99)),new t(28,new e(7,45),new e(3,46)),new t(24,new e(15,19),new e(2,20)),new t(30,new e(3,15),new e(13,16))),new _(17,new Array(6,30,54,78),new t(28,new e(1,107),new e(5,108)),new t(28,new e(10,46),new e(1,47)),new t(28,new e(1,22),new e(15,23)),new t(28,new e(2,14),new e(17,15))),new _(18,new Array(6,30,56,82),new t(30,new e(5,120),new e(1,121)),new t(26,new e(9,43),new e(4,44)),new t(28,new e(17,22),new e(1,23)),new t(28,new e(2,14),new e(19,15))),new _(19,new Array(6,30,58,86),new t(28,new e(3,113),new e(4,114)),new t(26,new e(3,44),new e(11,45)),new t(26,new e(17,21),new e(4,22)),new t(26,new e(9,13),new e(16,14))),new _(20,new Array(6,34,62,90),new t(28,new e(3,107),new e(5,108)),new t(26,new e(3,41),new e(13,42)),new t(30,new e(15,24),new e(5,25)),new t(28,new e(15,15),new e(10,16))),new _(21,new Array(6,28,50,72,94),new t(28,new e(4,116),new e(4,117)),new t(26,new e(17,42)),new t(28,new e(17,22),new e(6,23)),new t(30,new e(19,16),new e(6,17))),new _(22,new Array(6,26,50,74,98),new t(28,new e(2,111),new e(7,112)),new t(28,new e(17,46)),new t(30,new e(7,24),new e(16,25)),new t(24,new e(34,13))),new _(23,new Array(6,30,54,74,102),new t(30,new e(4,121),new e(5,122)),new t(28,new e(4,47),new e(14,48)),new t(30,new e(11,24),new e(14,25)),new t(30,new e(16,15),new e(14,16))),new _(24,new Array(6,28,54,80,106),new t(30,new e(6,117),new e(4,118)),new t(28,new e(6,45),new e(14,46)),new t(30,new e(11,24),new e(16,25)),new t(30,new e(30,16),new e(2,17))),new _(25,new Array(6,32,58,84,110),new t(26,new e(8,106),new e(4,107)),new t(28,new e(8,47),new e(13,48)),new t(30,new e(7,24),new e(22,25)),new t(30,new e(22,15),new e(13,16))),new _(26,new Array(6,30,58,86,114),new t(28,new e(10,114),new e(2,115)),new t(28,new e(19,46),new e(4,47)),new t(28,new e(28,22),new e(6,23)),new t(30,new e(33,16),new e(4,17))),new _(27,new Array(6,34,62,90,118),new t(30,new e(8,122),new e(4,123)),new t(28,new e(22,45),new e(3,46)),new t(30,new e(8,23),new e(26,24)),new t(30,new e(12,15),new e(28,16))),new _(28,new Array(6,26,50,74,98,122),new t(30,new e(3,117),new e(10,118)),new t(28,new e(3,45),new e(23,46)),new t(30,new e(4,24),new e(31,25)),new t(30,new e(11,15),new e(31,16))),new _(29,new Array(6,30,54,78,102,126),new t(30,new e(7,116),new e(7,117)),new t(28,new e(21,45),new e(7,46)),new t(30,new e(1,23),new e(37,24)),new t(30,new e(19,15),new e(26,16))),new _(30,new Array(6,26,52,78,104,130),new t(30,new e(5,115),new e(10,116)),new t(28,new e(19,47),new e(10,48)),new t(30,new e(15,24),new e(25,25)),new t(30,new e(23,15),new e(25,16))),new _(31,new Array(6,30,56,82,108,134),new t(30,new e(13,115),new e(3,116)),new t(28,new e(2,46),new e(29,47)),new t(30,new e(42,24),new e(1,25)),new t(30,new e(23,15),new e(28,16))),new _(32,new Array(6,34,60,86,112,138),new t(30,new e(17,115)),new t(28,new e(10,46),new e(23,47)),new t(30,new e(10,24),new e(35,25)),new t(30,new e(19,15),new e(35,16))),new _(33,new Array(6,30,58,86,114,142),new t(30,new e(17,115),new e(1,116)),new t(28,new e(14,46),new e(21,47)),new t(30,new e(29,24),new e(19,25)),new t(30,new e(11,15),new e(46,16))),new _(34,new Array(6,34,62,90,118,146),new t(30,new e(13,115),new e(6,116)),new t(28,new e(14,46),new e(23,47)),new t(30,new e(44,24),new e(7,25)),new t(30,new e(59,16),new e(1,17))),new _(35,new Array(6,30,54,78,102,126,150),new t(30,new e(12,121),new e(7,122)),new t(28,new e(12,47),new e(26,48)),new t(30,new e(39,24),new e(14,25)),new t(30,new e(22,15),new e(41,16))),new _(36,new Array(6,24,50,76,102,128,154),new t(30,new e(6,121),new e(14,122)),new t(28,new e(6,47),new e(34,48)),new t(30,new e(46,24),new e(10,25)),new t(30,new e(2,15),new e(64,16))),new _(37,new Array(6,28,54,80,106,132,158),new t(30,new e(17,122),new e(4,123)),new t(28,new e(29,46),new e(14,47)),new t(30,new e(49,24),new e(10,25)),new t(30,new e(24,15),new e(46,16))),new _(38,new Array(6,32,58,84,110,136,162),new t(30,new e(4,122),new e(18,123)),new t(28,new e(13,46),new e(32,47)),new t(30,new e(48,24),new e(14,25)),new t(30,new e(42,15),new e(32,16))),new _(39,new Array(6,26,54,82,110,138,166),new t(30,new e(20,117),new e(4,118)),new t(28,new e(40,47),new e(7,48)),new t(30,new e(43,24),new e(22,25)),new t(30,new e(10,15),new e(67,16))),new _(40,new Array(6,30,58,86,114,142,170),new t(30,new e(19,118),new e(6,119)),new t(28,new e(18,47),new e(31,48)),new t(30,new e(34,24),new e(34,25)),new t(30,new e(20,15),new e(61,16)))),_.getVersionForNumber=function(e){if(e<1||40<e)throw"ArgumentException";return _.VERSIONS[e-1]},_.getProvisionalVersionForDimension=function(e){if(e%4!=1)throw"Error getProvisionalVersionForDimension";try{return _.getVersionForNumber(e-17>>2)}catch(e){throw"Error getVersionForNumber"}},_.decodeVersionInformation=function(e){for(var t=4294967295,n=0,i=0;i<_.VERSION_DECODE_INFO.length;i++){var r=_.VERSION_DECODE_INFO[i];if(r==e)return this.getVersionForNumber(i+7);var a=h.numBitsDiffering(e,r);a<t&&(n=i+7,t=a)}return t<=3?this.getVersionForNumber(n):null},p.quadrilateralToQuadrilateral=function(e,t,n,i,r,a,o,s,h,c,d,l,u,f,w,g){var _=this.quadrilateralToSquare(e,t,n,i,r,a,o,s);return this.squareToQuadrilateral(h,c,d,l,u,f,w,g).times(_)},p.squareToQuadrilateral=function(e,t,n,i,r,a,o,s){var h=s-a,c=t-i+a-s;if(0==h&&0==c)return new p(n-e,r-n,e,i-t,a-i,t,0,0,1);var d=n-r,l=o-r,u=e-n+r-o,f=i-a,w=d*h-l*f,g=(u*h-l*c)/w,_=(d*c-u*f)/w;return new p(n-e+g*n,o-e+_*o,e,i-t+g*i,s-t+_*s,t,g,_,1)},p.quadrilateralToSquare=function(e,t,n,i,r,a,o,s){return this.squareToQuadrilateral(e,t,n,i,r,a,o,s).buildAdjoint()};var s=new Array(new Array(21522,0),new Array(20773,1),new Array(24188,2),new Array(23371,3),new Array(17913,4),new Array(16590,5),new Array(20375,6),new Array(19104,7),new Array(30660,8),new Array(29427,9),new Array(32170,10),new Array(30877,11),new Array(26159,12),new Array(25368,13),new Array(27713,14),new Array(26998,15),new Array(5769,16),new Array(5054,17),new Array(7399,18),new Array(6608,19),new Array(1890,20),new Array(597,21),new Array(3340,22),new Array(2107,23),new Array(13663,24),new Array(12392,25),new Array(16177,26),new Array(14854,27),new Array(9396,28),new Array(8579,29),new Array(11994,30),new Array(11245,31)),n=new Array(0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4);function h(e){this.errorCorrectionLevel=i.forBits(e>>3&3),this.dataMask=7&e,this.__defineGetter__("ErrorCorrectionLevel",function(){return this.errorCorrectionLevel}),this.__defineGetter__("DataMask",function(){return this.dataMask}),this.GetHashCode=function(){return this.errorCorrectionLevel.ordinal()<<3|this.dataMask},this.Equals=function(e){return this.errorCorrectionLevel==e.errorCorrectionLevel&&this.dataMask==e.dataMask}}function i(e,t,n){this.ordinal_Renamed_Field=e,this.bits=t,this.name=n,this.__defineGetter__("Bits",function(){return this.bits}),this.__defineGetter__("Name",function(){return this.name}),this.ordinal=function(){return this.ordinal_Renamed_Field}}h.numBitsDiffering=function(e,t){return n[15&(e^=t)]+n[15&f(e,4)]+n[15&f(e,8)]+n[15&f(e,12)]+n[15&f(e,16)]+n[15&f(e,20)]+n[15&f(e,24)]+n[15&f(e,28)]},h.decodeFormatInformation=function(e){var t=h.doDecodeFormatInformation(e);return null!=t?t:h.doDecodeFormatInformation(21522^e)},h.doDecodeFormatInformation=function(e){for(var t=4294967295,n=0,i=0;i<s.length;i++){var r=s[i],a=r[0];if(a==e)return new h(r[1]);var o=this.numBitsDiffering(e,a);o<t&&(n=r[1],t=o)}return t<=3?new h(n):null},i.forBits=function(e){if(e<0||e>=d.length)throw"ArgumentException";return d[e]};var r=new i(0,1,"L"),a=new i(1,0,"M"),o=new i(2,3,"Q"),c=new i(3,2,"H"),d=new Array(a,r,c,o);function l(e,t){if(t=t||e,e<1||t<1)throw"Both dimensions must be greater than 0";this.width=e,this.height=t;var n=e>>5;0!=(31&e)&&n++,this.rowSize=n,this.bits=new Array(n*t);for(var i=0;i<this.bits.length;i++)this.bits[i]=0;this.__defineGetter__("Width",function(){return this.width}),this.__defineGetter__("Height",function(){return this.height}),this.__defineGetter__("Dimension",function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width}),this.get_Renamed=function(e,t){var n=t*this.rowSize+(e>>5);return 0!=(1&f(this.bits[n],31&e))},this.set_Renamed=function(e,t){var n=t*this.rowSize+(e>>5);this.bits[n]|=1<<(31&e)},this.flip=function(e,t){var n=t*this.rowSize+(e>>5);this.bits[n]^=1<<(31&e)},this.clear=function(){for(var e=this.bits.length,t=0;t<e;t++)this.bits[t]=0},this.setRegion=function(e,t,n,i){if(t<0||e<0)throw"Left and top must be nonnegative";if(i<1||n<1)throw"Height and width must be at least 1";var r=e+n,a=t+i;if(a>this.height||r>this.width)throw"The region must fit inside the matrix";for(var o=t;o<a;o++)for(var s=o*this.rowSize,h=e;h<r;h++)this.bits[s+(h>>5)]|=1<<(31&h)}}function S(e,t){this.numDataCodewords=e,this.codewords=t,this.__defineGetter__("NumDataCodewords",function(){return this.numDataCodewords}),this.__defineGetter__("Codewords",function(){return this.codewords})}function w(e){var t=e.Dimension;if(t<21||1!=(3&t))throw"Error BitMatrixParser";this.bitMatrix=e,this.parsedVersion=null,this.parsedFormatInfo=null,this.copyBit=function(e,t,n){return this.bitMatrix.get_Renamed(e,t)?n<<1|1:n<<1},this.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;0<=n;n--)e=this.copyBit(8,n,e);if(this.parsedFormatInfo=h.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var i=this.bitMatrix.Dimension,e=0,r=i-8,t=i-1;r<=t;t--)e=this.copyBit(t,8,e);for(n=i-7;n<i;n++)e=this.copyBit(8,n,e);if(this.parsedFormatInfo=h.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw"Error readFormatInformation"},this.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.Dimension,t=e-17>>2;if(t<=6)return _.getVersionForNumber(t);for(var n=0,i=e-11,r=5;0<=r;r--)for(var a=e-9;i<=a;a--)n=this.copyBit(a,r,n);if(this.parsedVersion=_.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;for(n=0,a=5;0<=a;a--)for(r=e-9;i<=r;r--)n=this.copyBit(a,r,n);if(this.parsedVersion=_.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;throw"Error readVersion"},this.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=g.forReference(e.DataMask),i=this.bitMatrix.Dimension;n.unmaskBitMatrix(this.bitMatrix,i);for(var r=t.buildFunctionPattern(),a=!0,o=new Array(t.TotalCodewords),s=0,h=0,c=0,d=i-1;0<d;d-=2){6==d&&d--;for(var l=0;l<i;l++)for(var u=a?i-1-l:l,f=0;f<2;f++)r.get_Renamed(d-f,u)||(c++,h<<=1,this.bitMatrix.get_Renamed(d-f,u)&&(h|=1),8==c&&(o[s++]=h,h=c=0));a^=!0}if(s!=t.TotalCodewords)throw"Error readCodewords";return o}}S.getDataBlocks=function(e,t,n){if(e.length!=t.TotalCodewords)throw"ArgumentException";for(var i=t.getECBlocksForLevel(n),r=0,a=i.getECBlocks(),o=0;o<a.length;o++)r+=a[o].Count;for(var s=new Array(r),h=0,c=0;c<a.length;c++)for(var d=a[c],o=0;o<d.Count;o++){var l=d.DataCodewords,u=i.ECCodewordsPerBlock+l;s[h++]=new S(l,new Array(u))}for(var f=s[0].codewords.length,w=s.length-1;0<=w&&s[w].codewords.length!=f;)w--;w++;var g=f-i.ECCodewordsPerBlock,_=0;for(o=0;o<g;o++)for(c=0;c<h;c++)s[c].codewords[o]=e[_++];for(c=w;c<h;c++)s[c].codewords[g]=e[_++];var m=s[0].codewords.length;for(o=g;o<m;o++)for(c=0;c<h;c++){var v=c<w?o:o+1;s[c].codewords[v]=e[_++]}return s};var g={};function v(h,e){if(null==e||0==e.length)throw"System.ArgumentException";this.field=h;var t=e.length;if(1<t&&0==e[0]){for(var n=1;n<t&&0==e[n];)n++;if(n==t)this.coefficients=h.Zero.coefficients;else{this.coefficients=new Array(t-n);for(var i=0;i<this.coefficients.length;i++)this.coefficients[i]=0;for(var r=0;r<this.coefficients.length;r++)this.coefficients[r]=e[n+r]}}else this.coefficients=e;this.__defineGetter__("Zero",function(){return 0==this.coefficients[0]}),this.__defineGetter__("Degree",function(){return this.coefficients.length-1}),this.__defineGetter__("Coefficients",function(){return this.coefficients}),this.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},this.evaluateAt=function(e){if(0==e)return this.getCoefficient(0);var t=this.coefficients.length;if(1==e){for(var n=0,i=0;i<t;i++)n=b.addOrSubtract(n,this.coefficients[i]);return n}for(var r=this.coefficients[0],i=1;i<t;i++)r=b.addOrSubtract(this.field.multiply(e,r),this.coefficients[i]);return r},this.addOrSubtract=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(this.Zero)return e;if(e.Zero)return this;var t,n=this.coefficients,i=e.coefficients;n.length>i.length&&(t=n,n=i,i=t);for(var r=new Array(i.length),a=i.length-n.length,o=0;o<a;o++)r[o]=i[o];for(var s=a;s<i.length;s++)r[s]=b.addOrSubtract(n[s-a],i[s]);return new v(h,r)},this.multiply1=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(this.Zero||e.Zero)return this.field.Zero;for(var t=this.coefficients,n=t.length,i=e.coefficients,r=i.length,a=new Array(n+r-1),o=0;o<n;o++)for(var s=t[o],h=0;h<r;h++)a[o+h]=b.addOrSubtract(a[o+h],this.field.multiply(s,i[h]));return new v(this.field,a)},this.multiply2=function(e){if(0==e)return this.field.Zero;if(1==e)return this;for(var t=this.coefficients.length,n=new Array(t),i=0;i<t;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new v(this.field,n)},this.multiplyByMonomial=function(e,t){if(e<0)throw"System.ArgumentException";if(0==t)return this.field.Zero;for(var n=this.coefficients.length,i=new Array(n+e),r=0;r<i.length;r++)i[r]=0;for(r=0;r<n;r++)i[r]=this.field.multiply(this.coefficients[r],t);return new v(this.field,i)},this.divide=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(e.Zero)throw"Divide by 0";for(var t=this.field.Zero,n=this,i=e.getCoefficient(e.Degree),r=this.field.inverse(i);n.Degree>=e.Degree&&!n.Zero;)var a=n.Degree-e.Degree,o=this.field.multiply(n.getCoefficient(n.Degree),r),s=e.multiplyByMonomial(a,o),h=this.field.buildMonomial(a,o),t=t.addOrSubtract(h),n=n.addOrSubtract(s);return new Array(t,n)}}function b(e){this.expTable=new Array(256),this.logTable=new Array(256);for(var t=1,n=0;n<256;n++)this.expTable[n]=t,256<=(t<<=1)&&(t^=e);for(n=0;n<255;n++)this.logTable[this.expTable[n]]=n;var i=new Array(1);i[0]=0,this.zero=new v(this,new Array(i));var r=new Array(1);r[0]=1,this.one=new v(this,new Array(r)),this.__defineGetter__("Zero",function(){return this.zero}),this.__defineGetter__("One",function(){return this.one}),this.buildMonomial=function(e,t){if(e<0)throw"System.ArgumentException";if(0==t)return this.zero;for(var n=new Array(e+1),i=0;i<n.length;i++)n[i]=0;return n[0]=t,new v(this,n)},this.exp=function(e){return this.expTable[e]},this.log=function(e){if(0==e)throw"System.ArgumentException";return this.logTable[e]},this.inverse=function(e){if(0==e)throw"System.ArithmeticException";return this.expTable[255-this.logTable[e]]},this.multiply=function(e,t){return 0==e||0==t?0:1==e?t:1==t?e:this.expTable[(this.logTable[e]+this.logTable[t])%255]}}g.forReference=function(e){if(e<0||7<e)throw"System.ArgumentException";return g.DATA_MASKS[e]},g.DATA_MASKS=new Array(new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){return 0==(e+t&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){return 0==(1&e)}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){return t%3==0}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){return(e+t)%3==0}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){return 0==(f(e,1)+t/3&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){var n=e*t;return(1&n)+n%3==0}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){var n=e*t;return 0==((1&n)+n%3&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){return 0==((e+t&1)+e*t%3&1)}}),b.QR_CODE_FIELD=new b(285),b.DATA_MATRIX_FIELD=new b(301),b.addOrSubtract=function(e,t){return e^t};var C={};C.rsDecoder=new function(e){this.field=e,this.decode=function(e,t){for(var n=new v(this.field,e),i=new Array(t),r=0;r<i.length;r++)i[r]=0;var a=!0;for(r=0;r<t;r++){var o=n.evaluateAt(this.field.exp(r));0!=(i[i.length-1-r]=o)&&(a=!1)}if(!a)for(var s=new v(this.field,i),h=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),s,t),c=h[0],d=h[1],l=this.findErrorLocations(c),u=this.findErrorMagnitudes(d,l,!1),r=0;r<l.length;r++){var f=e.length-1-this.field.log(l[r]);if(f<0)throw"ReedSolomonException Bad error location";e[f]=b.addOrSubtract(e[f],u[r])}},this.runEuclideanAlgorithm=function(e,t,n){var i;e.Degree<t.Degree&&(i=e,e=t,t=i);for(var r=e,a=t,o=this.field.One,s=this.field.Zero,h=this.field.Zero,c=this.field.One;a.Degree>=Math.floor(n/2);){var d=r,l=o,u=h,o=s,h=c;if((r=a).Zero)throw"r_{i-1} was zero";a=d;for(var f=this.field.Zero,w=r.getCoefficient(r.Degree),g=this.field.inverse(w);a.Degree>=r.Degree&&!a.Zero;)var _=a.Degree-r.Degree,m=this.field.multiply(a.getCoefficient(a.Degree),g),f=f.addOrSubtract(this.field.buildMonomial(_,m)),a=a.addOrSubtract(r.multiplyByMonomial(_,m));s=f.multiply1(o).addOrSubtract(l),c=f.multiply1(h).addOrSubtract(u)}var v=c.getCoefficient(0);if(0==v)throw"ReedSolomonException sigmaTilde(0) was zero";var y=this.field.inverse(v),p=c.multiply2(y),S=a.multiply2(y);return new Array(p,S)},this.findErrorLocations=function(e){var t=e.Degree;if(1==t)return new Array(e.getCoefficient(1));for(var n=new Array(t),i=0,r=1;r<256&&i<t;r++)0==e.evaluateAt(r)&&(n[i]=this.field.inverse(r),i++);if(i!=t)throw"Error locator degree does not match number of roots";return n},this.findErrorMagnitudes=function(e,t,n){for(var i=t.length,r=new Array(i),a=0;a<i;a++){for(var o=this.field.inverse(t[a]),s=1,h=0;h<i;h++)a!=h&&(s=this.field.multiply(s,b.addOrSubtract(1,this.field.multiply(t[h],o))));r[a]=this.field.multiply(e.evaluateAt(o),this.field.inverse(s)),n&&(r[a]=this.field.multiply(r[a],o))}return r}}(b.QR_CODE_FIELD),C.correctErrors=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++)i[r]=255&e[r];var a=e.length-t;try{C.rsDecoder.decode(i,a)}catch(e){throw e}for(r=0;r<t;r++)e[r]=i[r]},C.decode=function(e){for(var t=new w(e),n=t.readVersion(),i=t.readFormatInformation().ErrorCorrectionLevel,r=t.readCodewords(),a=S.getDataBlocks(r,n,i),o=0,s=0;s<a.length;s++)o+=a[s].NumDataCodewords;for(var h=new Array(o),c=0,d=0;d<a.length;d++){var l=a[d],u=l.Codewords,f=l.NumDataCodewords;for(C.correctErrors(u,f),s=0;s<f;s++)h[c++]=u[s]}return new N(h,n.VersionNumber,i.Bits)};var A={};function f(e,t){return 0<=e?e>>t:(e>>t)+(2<<~t)}A.imagedata=null,A.width=0,A.height=0,A.qrCodeSymbol=null,A.debug=!1,A.maxImgSize=1048576,A.sizeOfDataLengthInfo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],A.callback=null,A.vidSuccess=function(e){A.localstream=e,A.webkit?A.video.src=window.webkitURL.createObjectURL(e):A.moz?(A.video.mozSrcObject=e,A.video.play()):A.video.src=e,A.gUM=!0,A.canvas_qr2=document.createElement("canvas"),A.canvas_qr2.id="qr-canvas",A.qrcontext2=A.canvas_qr2.getContext("2d"),A.canvas_qr2.width=A.video.videoWidth,A.canvas_qr2.height=A.video.videoHeight,setTimeout(A.captureToCanvas,500)},A.vidError=function(e){A.gUM=!1},A.captureToCanvas=function(){if(A.gUM)try{if(0==A.video.videoWidth)return void setTimeout(A.captureToCanvas,500);A.canvas_qr2.width=A.video.videoWidth,A.canvas_qr2.height=A.video.videoHeight,A.qrcontext2.drawImage(A.video,0,0);try{A.decode()}catch(e){console.log(e),setTimeout(A.captureToCanvas,500)}}catch(e){console.log(e),setTimeout(A.captureToCanvas,500)}},A.setWebcam=function(e){var t=navigator;A.video=document.getElementById(e);var n=!0;if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)try{navigator.mediaDevices.enumerateDevices().then(function(e){e.forEach(function(e){console.log("deb1"),"videoinput"===e.kind&&-1<e.label.toLowerCase().search("back")&&(n=[{sourceId:e.deviceId}]),console.log(e.kind+": "+e.label+" id = "+e.deviceId)})})}catch(e){console.log(e)}else console.log("no navigator.mediaDevices.enumerateDevices");t.getUserMedia?t.getUserMedia({video:n,audio:!1},A.vidSuccess,A.vidError):t.webkitGetUserMedia?(A.webkit=!0,t.webkitGetUserMedia({video:n,audio:!1},A.vidSuccess,A.vidError)):t.mozGetUserMedia&&(A.moz=!0,t.mozGetUserMedia({video:n,audio:!1},A.vidSuccess,A.vidError))},A.decode=function(e){if(0==arguments.length){var t,n=A.canvas_qr2?(t=A.canvas_qr2,A.qrcontext2):(t=document.getElementById("qr-canvas")).getContext("2d");return A.width=t.width,A.height=t.height,A.imagedata=n.getImageData(0,0,A.width,A.height),A.result=A.process(n),null!=A.callback&&A.callback(A.result),A.result}var s=new Image;s.crossOrigin="Anonymous",s.onload=function(){var e,t=document.getElementById("out-canvas");null!=t&&((e=t.getContext("2d")).clearRect(0,0,320,240),e.drawImage(s,0,0,320,240));var n,i=document.createElement("canvas"),r=i.getContext("2d"),a=s.height,o=s.width;s.width*s.height>A.maxImgSize&&(o=(n=s.width/s.height)*(a=Math.sqrt(A.maxImgSize/n))),i.width=o,i.height=a,r.drawImage(s,0,0,i.width,i.height),A.width=i.width,A.height=i.height;try{A.imagedata=r.getImageData(0,0,i.width,i.height)}catch(t){return A.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!",void(null!=A.callback&&A.callback(A.result))}try{A.result=A.process(r)}catch(t){console.log(t),A.result="error decoding QR Code"}null!=A.callback&&A.callback(A.result)},s.onerror=function(){null!=A.callback&&A.callback("Failed to load the image")},s.src=e},A.isUrl=function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)},A.decode_url=function(e){var t="";try{t=escape(e)}catch(n){console.log(n),t=e}var n="";try{n=decodeURIComponent(t)}catch(e){console.log(e),n=t}return n},A.decode_utf8=function(e){return A.isUrl(e)?A.decode_url(e):e},A.process=function(e){var t=(new Date).getTime(),n=A.grayScaleToBitmap(A.grayscale());if(A.debug){for(var i=0;i<A.height;i++)for(var r=0;r<A.width;r++){var a=4*r+i*A.width*4;A.imagedata.data[a]=(n[r+i*A.width],0),A.imagedata.data[a+1]=(n[r+i*A.width],0),A.imagedata.data[a+2]=n[r+i*A.width]?255:0}e.putImageData(A.imagedata,0,0)}var o=new u(n).detect();if(A.debug){for(i=0;i<o.bits.Height;i++)for(r=0;r<o.bits.Width;r++)a=4*r*2+2*i*A.width*4,A.imagedata.data[a]=(o.bits.get_Renamed(r,i),0),A.imagedata.data[a+1]=(o.bits.get_Renamed(r,i),0),A.imagedata.data[a+2]=o.bits.get_Renamed(r,i)?255:0;e.putImageData(A.imagedata,0,0)}for(var s=C.decode(o.bits).DataByte,h="",c=0;c<s.length;c++)for(var d=0;d<s[c].length;d++)h+=String.fromCharCode(s[c][d]);var l=(new Date).getTime()-t;return console.log(l),A.decode_utf8(h)},A.getPixel=function(e,t){if(A.width<e)throw"point error";if(A.height<t)throw"point error";var n=4*e+t*A.width*4;return(33*A.imagedata.data[n]+34*A.imagedata.data[1+n]+33*A.imagedata.data[2+n])/100},A.binarize=function(e){for(var t=new Array(A.width*A.height),n=0;n<A.height;n++)for(var i=0;i<A.width;i++){var r=A.getPixel(i,n);t[i+n*A.width]=r<=e}return t},A.getMiddleBrightnessPerArea=function(e){for(var t=Math.floor(A.width/4),n=Math.floor(A.height/4),i=new Array(4),r=0;r<4;r++){i[r]=new Array(4);for(var a=0;a<4;a++)i[r][a]=new Array(0,0)}for(var o=0;o<4;o++)for(var s=0;s<4;s++){i[s][o][0]=255;for(var h=0;h<n;h++)for(var c=0;c<t;c++){var d=e[t*s+c+(n*o+h)*A.width];d<i[s][o][0]&&(i[s][o][0]=d),d>i[s][o][1]&&(i[s][o][1]=d)}}for(var l=new Array(4),u=0;u<4;u++)l[u]=new Array(4);for(o=0;o<4;o++)for(s=0;s<4;s++)l[s][o]=Math.floor((i[s][o][0]+i[s][o][1])/2);return l},A.grayScaleToBitmap=function(e){for(var t=A.getMiddleBrightnessPerArea(e),n=t.length,i=Math.floor(A.width/n),r=Math.floor(A.height/n),a=new ArrayBuffer(A.width*A.height),o=new Uint8Array(a),s=0;s<n;s++)for(var h=0;h<n;h++)for(var c=0;c<r;c++)for(var d=0;d<i;d++)o[i*h+d+(r*s+c)*A.width]=e[i*h+d+(r*s+c)*A.width]<t[h][s];return o},A.grayscale=function(){for(var e=new ArrayBuffer(A.width*A.height),t=new Uint8Array(e),n=0;n<A.height;n++)for(var i=0;i<A.width;i++){var r=A.getPixel(i,n);t[i+n*A.width]=r}return t};var E=3,k=57,M=8,I=2;function T(e,t,n){this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=n,this.__defineGetter__("EstimatedModuleSize",function(){return this.estimatedModuleSize}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return this.x}),this.__defineGetter__("Y",function(){return this.y}),this.incrementCount=function(){this.count++},this.aboutEquals=function(e,t,n){if(Math.abs(t-this.y)<=e&&Math.abs(n-this.x)<=e){var i=Math.abs(e-this.estimatedModuleSize);return i<=1||i/this.estimatedModuleSize<=1}return!1}}function R(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2],this.__defineGetter__("BottomLeft",function(){return this.bottomLeft}),this.__defineGetter__("TopLeft",function(){return this.topLeft}),this.__defineGetter__("TopRight",function(){return this.topRight})}function D(){this.image=null,this.possibleCenters=[],this.hasSkipped=!1,this.crossCheckStateCount=new Array(0,0,0,0,0),this.resultPointCallback=null,this.__defineGetter__("CrossCheckStateCount",function(){return this.crossCheckStateCount[0]=0,this.crossCheckStateCount[1]=0,this.crossCheckStateCount[2]=0,this.crossCheckStateCount[3]=0,this.crossCheckStateCount[4]=0,this.crossCheckStateCount}),this.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var i=e[n];if(0==i)return!1;t+=i}if(t<7)return!1;var r=Math.floor((t<<M)/7),a=Math.floor(r/2);return Math.abs(r-(e[0]<<M))<a&&Math.abs(r-(e[1]<<M))<a&&Math.abs(3*r-(e[2]<<M))<3*a&&Math.abs(r-(e[3]<<M))<a&&Math.abs(r-(e[4]<<M))<a},this.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},this.crossCheckVertical=function(e,t,n,i){for(var r=this.image,a=A.height,o=this.CrossCheckStateCount,s=e;0<=s&&r[t+s*A.width];)o[2]++,s--;if(s<0)return NaN;for(;0<=s&&!r[t+s*A.width]&&o[1]<=n;)o[1]++,s--;if(s<0||o[1]>n)return NaN;for(;0<=s&&r[t+s*A.width]&&o[0]<=n;)o[0]++,s--;if(o[0]>n)return NaN;for(s=e+1;s<a&&r[t+s*A.width];)o[2]++,s++;if(s==a)return NaN;for(;s<a&&!r[t+s*A.width]&&o[3]<n;)o[3]++,s++;if(s==a||o[3]>=n)return NaN;for(;s<a&&r[t+s*A.width]&&o[4]<n;)o[4]++,s++;if(o[4]>=n)return NaN;var h=o[0]+o[1]+o[2]+o[3]+o[4];return!(5*Math.abs(h-i)>=2*i)&&this.foundPatternCross(o)?this.centerFromEnd(o,s):NaN},this.crossCheckHorizontal=function(e,t,n,i){for(var r=this.image,a=A.width,o=this.CrossCheckStateCount,s=e;0<=s&&r[s+t*A.width];)o[2]++,s--;if(s<0)return NaN;for(;0<=s&&!r[s+t*A.width]&&o[1]<=n;)o[1]++,s--;if(s<0||o[1]>n)return NaN;for(;0<=s&&r[s+t*A.width]&&o[0]<=n;)o[0]++,s--;if(o[0]>n)return NaN;for(s=e+1;s<a&&r[s+t*A.width];)o[2]++,s++;if(s==a)return NaN;for(;s<a&&!r[s+t*A.width]&&o[3]<n;)o[3]++,s++;if(s==a||o[3]>=n)return NaN;for(;s<a&&r[s+t*A.width]&&o[4]<n;)o[4]++,s++;if(o[4]>=n)return NaN;var h=o[0]+o[1]+o[2]+o[3]+o[4];return!(5*Math.abs(h-i)>=i)&&this.foundPatternCross(o)?this.centerFromEnd(o,s):NaN},this.handlePossibleCenter=function(e,t,n){var i=e[0]+e[1]+e[2]+e[3]+e[4],r=this.centerFromEnd(e,n),a=this.crossCheckVertical(t,Math.floor(r),e[2],i);if(isNaN(a)||(r=this.crossCheckHorizontal(Math.floor(r),Math.floor(a),e[2],i),isNaN(r)))return!1;for(var o,s=i/7,h=!1,c=this.possibleCenters.length,d=0;d<c;d++){var l=this.possibleCenters[d];if(l.aboutEquals(s,a,r)){l.incrementCount(),h=!0;break}}return h||(o=new T(r,a,s),this.possibleCenters.push(o),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(o)),!0},this.selectBestPatterns=function(){var e=this.possibleCenters.length;if(e<3)throw"Couldn't find enough finder patterns (found "+e+")";if(3<e){for(var t=0,n=0,i=0;i<e;i++){var r=this.possibleCenters[i].EstimatedModuleSize;t+=r,n+=r*r}var a=t/e;this.possibleCenters.sort(function(e,t){var n=Math.abs(t.EstimatedModuleSize-a),i=Math.abs(e.EstimatedModuleSize-a);return n<i?-1:n==i?0:1});for(var o=Math.sqrt(n/e-a*a),s=Math.max(.2*a,o),i=this.possibleCenters.length-1;0<=i;i--){var h=this.possibleCenters[i];Math.abs(h.EstimatedModuleSize-a)>s&&this.possibleCenters.splice(i,1)}}return 3<this.possibleCenters.length&&this.possibleCenters.sort(function(e,t){return e.count>t.count?-1:e.count<t.count?1:0}),new Array(this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2])},this.findRowSkip=function(){var e=this.possibleCenters.length;if(e<=1)return 0;for(var t=null,n=0;n<e;n++){var i=this.possibleCenters[n];if(i.Count>=I){if(null!=t)return this.hasSkipped=!0,Math.floor((Math.abs(t.X-i.X)-Math.abs(t.Y-i.Y))/2);t=i}}return 0},this.haveMultiplyConfirmedCenters=function(){for(var e=0,t=0,n=this.possibleCenters.length,i=0;i<n;i++){var r=this.possibleCenters[i];r.Count>=I&&(e++,t+=r.EstimatedModuleSize)}if(e<3)return!1;for(var a=t/n,o=0,i=0;i<n;i++)r=this.possibleCenters[i],o+=Math.abs(r.EstimatedModuleSize-a);return o<=.05*t},this.findFinderPattern=function(e){this.image=e;var t=A.height,n=A.width,i=Math.floor(3*t/(4*k));i<E&&(i=E);for(var r=!1,a=new Array(5),o=i-1;o<t&&!r;o+=i){a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s,h=a[4]=0,c=0;c<n;c++)if(e[c+o*A.width])1==(1&h)&&h++,a[h]++;else if(0==(1&h))if(4==h)if(this.foundPatternCross(a)){if(this.handlePossibleCenter(a,o,c)){i=2,this.hasSkipped?r=this.haveMultiplyConfirmedCenters():(s=this.findRowSkip())>a[2]&&(o+=s-a[2]-i,c=n-1)}else{for(;++c<n&&!e[c+o*A.width];);c--}a[h=0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0}else a[0]=a[2],a[1]=a[3],a[2]=a[4],a[3]=1,a[4]=0,h=3;else a[++h]++;else a[h]++;this.foundPatternCross(a)&&this.handlePossibleCenter(a,o,n)&&(i=a[0],this.hasSkipped&&(r=this.haveMultiplyConfirmedCenters()))}var d=this.selectBestPatterns();return A.orderBestPatterns(d),new R(d)}}function P(e,t,n){this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=n,this.__defineGetter__("EstimatedModuleSize",function(){return this.estimatedModuleSize}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return Math.floor(this.x)}),this.__defineGetter__("Y",function(){return Math.floor(this.y)}),this.incrementCount=function(){this.count++},this.aboutEquals=function(e,t,n){if(Math.abs(t-this.y)<=e&&Math.abs(n-this.x)<=e){var i=Math.abs(e-this.estimatedModuleSize);return i<=1||i/this.estimatedModuleSize<=1}return!1}}function x(d,e,l,u,t,n,i){this.image=d,this.possibleCenters=new Array,this.startX=e,this.startY=l,this.width=u,this.height=t,this.moduleSize=n,this.crossCheckStateCount=new Array(0,0,0),this.resultPointCallback=i,this.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},this.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=n)return!1;return!0},this.crossCheckVertical=function(e,t,n,i){var r=this.image,a=A.height,o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var s=e;0<=s&&r[t+s*A.width]&&o[1]<=n;)o[1]++,s--;if(s<0||o[1]>n)return NaN;for(;0<=s&&!r[t+s*A.width]&&o[0]<=n;)o[0]++,s--;if(o[0]>n)return NaN;for(s=e+1;s<a&&r[t+s*A.width]&&o[1]<=n;)o[1]++,s++;if(s==a||o[1]>n)return NaN;for(;s<a&&!r[t+s*A.width]&&o[2]<=n;)o[2]++,s++;if(o[2]>n)return NaN;var h=o[0]+o[1]+o[2];return!(5*Math.abs(h-i)>=2*i)&&this.foundPatternCross(o)?this.centerFromEnd(o,s):NaN},this.handlePossibleCenter=function(e,t,n){var i=e[0]+e[1]+e[2],r=this.centerFromEnd(e,n),a=this.crossCheckVertical(t,Math.floor(r),2*e[1],i);if(!isNaN(a)){for(var o=(e[0]+e[1]+e[2])/3,s=this.possibleCenters.length,h=0;h<s;h++)if(this.possibleCenters[h].aboutEquals(o,a,r))return new P(r,a,o);var c=new P(r,a,o);this.possibleCenters.push(c),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(c)}return null},this.find=function(){for(var e=this.startX,t=this.height,n=e+u,i=l+(t>>1),r=new Array(0,0,0),a=0;a<t;a++){var o=i+(0==(1&a)?a+1>>1:-(a+1>>1));r[0]=0,r[1]=0,r[2]=0;for(var s=e;s<n&&!d[s+A.width*o];)s++;for(var h,c=0;s<n;){if(d[s+o*A.width])if(1==c)r[c]++;else if(2==c){if(this.foundPatternCross(r)&&null!=(h=this.handlePossibleCenter(r,o,s)))return h;r[0]=r[2],r[1]=1,r[2]=0,c=1}else r[++c]++;else 1==c&&c++,r[c]++;s++}if(this.foundPatternCross(r)&&null!=(h=this.handlePossibleCenter(r,o,n)))return h}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw"Couldn't find enough alignment patterns"}}function N(e,t,n){this.blockPointer=0,this.bitPointer=7,this.dataLength=0,this.blocks=e,this.numErrorCorrectionCode=n,t<=9?this.dataLengthMode=0:10<=t&&t<=26?this.dataLengthMode=1:27<=t&&t<=40&&(this.dataLengthMode=2),this.getNextBits=function(e){var t=0;if(e<this.bitPointer+1){for(var n=0,i=0;i<e;i++)n+=1<<i;return n<<=this.bitPointer-e+1,t=(this.blocks[this.blockPointer]&n)>>this.bitPointer-e+1,this.bitPointer-=e,t}if(e<this.bitPointer+1+8){for(var r=0,i=0;i<this.bitPointer+1;i++)r+=1<<i;return t=(this.blocks[this.blockPointer]&r)<<e-(this.bitPointer+1),this.blockPointer++,t+=this.blocks[this.blockPointer]>>8-(e-(this.bitPointer+1)),this.bitPointer=this.bitPointer-e%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t}if(e<this.bitPointer+1+16){var a=r=0;for(i=0;i<this.bitPointer+1;i++)r+=1<<i;var o=(this.blocks[this.blockPointer]&r)<<e-(this.bitPointer+1);this.blockPointer++;var s=this.blocks[this.blockPointer]<<e-(this.bitPointer+1+8);for(this.blockPointer++,i=0;i<e-(this.bitPointer+1+8);i++)a+=1<<i;return a<<=8-(e-(this.bitPointer+1+8)),t=o+s+((this.blocks[this.blockPointer]&a)>>8-(e-(this.bitPointer+1+8))),this.bitPointer=this.bitPointer-(e-8)%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t}return 0},this.NextMode=function(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:this.getNextBits(4)},this.getDataLength=function(e){for(var t=0;e>>t!=1;)t++;return this.getNextBits(A.sizeOfDataLengthInfo[this.dataLengthMode][t])},this.getRomanAndFigureString=function(e){var t,n=e,i=0,r="",a=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":");do{1<n?(t=(i=this.getNextBits(11))%45,r+=a[Math.floor(i/45)],r+=a[t],n-=2):1==n&&(r+=a[i=this.getNextBits(6)],--n)}while(0<n);return r},this.getFigureString=function(e){for(var t=e,n=0,i="";3<=t?((n=this.getNextBits(10))<100&&(i+="0"),n<10&&(i+="0"),t-=3):2==t?((n=this.getNextBits(7))<10&&(i+="0"),t-=2):1==t&&(n=this.getNextBits(4),--t),i+=n,0<t;);return i},this.get8bitByteArray=function(e){for(var t=e,n=0,i=new Array;n=this.getNextBits(8),i.push(n),0<--t;);return i},this.getKanjiString=function(e){var t=e,n=0,i="";do{var r=((n=this.getNextBits(13))/192<<8)+n%192,a=33088+r<=40956?33088+r:49472+r;i+=String.fromCharCode(a),t--}while(0<t);return i},this.parseECIValue=function(){var e=0,t=this.getNextBits(8);return 0==(128&t)&&(e=127&t),128==(192&t)&&(e=(63&t)<<8|this.getNextBits(8)),192==(224&t)&&(e=(31&t)<<16|this.getNextBits(8)),e},this.__defineGetter__("DataByte",function(){for(var e=new Array;;){var t=this.NextMode();if(0==t){if(0<e.length)break;throw"Empty data block"}if(1!=t&&2!=t&&4!=t&&8!=t&&7!=t)throw"Invalid mode: "+t+" in (block:"+this.blockPointer+" bit:"+this.bitPointer+")";if(7==t)var n=this.parseECIValue();else{var i=this.getDataLength(t);if(i<1)throw"Invalid data length: "+i;switch(t){case 1:for(var r=this.getFigureString(i),a=new Array(r.length),o=0;o<r.length;o++)a[o]=r.charCodeAt(o);e.push(a);break;case 2:for(r=this.getRomanAndFigureString(i),a=new Array(r.length),o=0;o<r.length;o++)a[o]=r.charCodeAt(o);e.push(a);break;case 4:n=this.get8bitByteArray(i),e.push(n);break;case 8:r=this.getKanjiString(i),e.push(r)}}}return e})}return A.orderBestPatterns=function(e){function t(e,t){var n=e.X-t.X,i=e.Y-t.Y;return Math.sqrt(n*n+i*i)}var n,i,r,a,o,s,h=t(e[0],e[1]),c=t(e[1],e[2]),d=t(e[0],e[2]);a=h<=c&&d<=c?(n=e[0],r=e[1],e[2]):c<=d&&h<=d?(n=e[1],r=e[0],e[2]):(n=e[2],r=e[0],e[1]),o=n.x,s=n.y,(a.x-o)*(r.y-s)-(a.y-s)*(r.x-o)<0&&(i=r,r=a,a=i),e[0]=r,e[1]=n,e[2]=a},A}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Html5Qrcode=function(){function _(e,t){if(_classCallCheck(this,_),!getLazarSoftScanner)throw"Use html5qrcode.min.js without edit, getLazarSoftScannernot found.";if(this.qrcode=getLazarSoftScanner(),!this.qrcode)throw"qrcode is not defined, use the minified/html5-qrcode.min.js for proper support";this._elementId=e,this._foreverScanTimeout=null,this._localMediaStream=null,this._shouldScan=!0,this._url=window.URL||window.webkitURL||window.mozURL||window.msURL,this._userMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,this._isScanning=!1,_.VERBOSE=!0===t}return _createClass(_,[{key:"start",value:function(i,e,t,n){var h=this;if(!i)throw"cameraIdOrConfig is required";if(!t||"function"!=typeof t)throw"qrCodeSuccessCallback is required and should be a function.";n=n||console.log,this._clearElement();var c=this,d=e||{};d.fps=d.fps?d.fps:_.SCAN_DEFAULT_FPS;var r=!1;d.videoConstraints&&(this._isMediaStreamConstraintsValid(d.videoConstraints)?r=!0:_._logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var a=r,s=null!=d.qrbox,l=document.getElementById(this._elementId),o=l.clientWidth?l.clientWidth:_.DEFAULT_WIDTH;if(l.style.position="relative",this._shouldScan=!0,this._element=l,this.qrcode.callback=t,s){var u=d.qrbox;if(u<_.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' is"+" ".concat(_.MIN_QR_BOX_SIZE,"px.");if(o<u)throw"'config.qrbox' should not be greater than the width of the HTML element."}function f(){try{return c.qrcode.decode(),h._possiblyUpdateShaders(!0),1}catch(e){return h._possiblyUpdateShaders(!1),n("QR code parse error, error = ".concat(e)),0}}function w(r){return new Promise(function(t,n){function i(){var e=h._createVideoElement(o);c._element.append(e),e.onabort=n,e.onerror=n,e.onplaying=function(){(function(e,t){var n=d.qrbox;t<n&&console.warn("[Html5Qrcode] config.qrboxsize is greater than video height. Shading will be ignored");var i=s&&n<=t,r=i?h._getShadedRegionBounds(e,t,n):{x:0,y:0,width:e,height:t},a=h._createCanvasElement(r.width,r.height),o=a.getContext("2d");o.canvas.width=r.width,o.canvas.height=r.height,l.append(a),i&&h._possiblyInsertShadingElement(l,e,t,n),c._qrRegion=r,c._context=o,c._canvasElement=a})(e.clientWidth,e.clientHeight),function e(){var t,n,i,r,a,o,s;c._shouldScan&&(c._localMediaStream&&(n=(t=c._videoElement).videoWidth/t.clientWidth,i=t.videoHeight/t.clientHeight,r=c._qrRegion.width*n,a=c._qrRegion.height*i,o=c._qrRegion.x*n,s=c._qrRegion.y*i,c._context.drawImage(c._videoElement,o,s,r,a,0,0,c._qrRegion.width,c._qrRegion.height),f()||!0===d.disableFlip||(h._context.translate(h._context.canvas.width,0),h._context.scale(-1,1),f())),c._foreverScanTimeout=setTimeout(e,_._getTimeoutFps(d.fps)))}(),t()},e.srcObject=r,e.play(),c._videoElement=e}var e;c._localMediaStream=r,a||!d.aspectRatio?i():(e={aspectRatio:d.aspectRatio},r.getVideoTracks()[0].applyConstraints(e).then(i).catch(function(e){console.log("[Warning] [Html5Qrcode] Constriants could not be satisfied, ignoring constraints",e),i()}))})}return new Promise(function(t,n){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){var e=a?d.videoConstraints:c._createVideoConstraints(i);navigator.mediaDevices.getUserMedia({audio:!1,video:e}).then(function(e){w(e).then(function(){c._isScanning=!0,t()}).catch(n)}).catch(function(e){n("Error getting userMedia, error = ".concat(e))})}else if(navigator.getUserMedia){if("string"!=typeof i)throw"The device doesn't support navigator.mediaDevices, only supported cameraIdOrConfig in this case is deviceId parameter (string).";navigator.getUserMedia({video:{optional:[{sourceId:i}]}},function(e){w(e).then(function(){c._isScanning=!0,t()}).catch(n)},function(e){n("Error getting userMedia, error = ".concat(e))})}else n("Web camera streaming not supported by the browser.")})}},{key:"stop",value:function(){this._shouldScan=!1,clearTimeout(this._foreverScanTimeout);var r=this;return new Promise(function(e){r.qrcode.callback=null;function t(){r._localMediaStream=null,r._element.removeChild(r._videoElement),r._element.removeChild(r._canvasElement),function(){for(;r._element.getElementsByClassName(_.SHADED_REGION_CLASSNAME).length;){var e=r._element.getElementsByClassName(_.SHADED_REGION_CLASSNAME)[0];r._element.removeChild(e)}}(),r._isScanning=!1,r._qrRegion&&(r._qrRegion=null),r._context&&(r._context=null),e(!0)}var n=r._localMediaStream.getVideoTracks().length,i=0;r._localMediaStream.getVideoTracks().forEach(function(e){e.stop(),n<=++i&&t()})})}},{key:"scanFile",value:function(e,w){var g=this;if(!(e&&e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'";if(w=void 0===w||w,g._isScanning)throw"Close ongoing scan before scanning a file.";return new Promise(function(l,u){g._possiblyCloseLastScanImageFile(),g._clearElement(),g._lastScanImageFile=e;var f=new Image;f.onload=function(){var e,t,n=Math.max,i=f.width,r=f.height,a=document.getElementById(g._elementId),o=a.clientWidth?a.clientWidth:_.DEFAULT_WIDTH,s=n(a.clientHeight?a.clientHeight:r,_.FILE_SCAN_MIN_HEIGHT),h=function e(t,n,i,r){if(t<=i&&n<=r)return{x:(i-t)/2,y:(r-n)/2,width:t,height:n};var a=t,o=n;return i<t&&(n*=i/t,t=i),r<n&&(t*=r/n,n=r),_._log("Image downsampled from "+"".concat(a,"X").concat(o)+" to ".concat(t,"X").concat(n,".")),e(t,n,i,r)}(i,r,o,s);w&&((e=g._createCanvasElement(o,s,"qr-canvas-visible")).style.display="inline-block",a.appendChild(e),(t=e.getContext("2d")).canvas.width=o,t.canvas.height=s,t.drawImage(f,0,0,i,r,h.x,h.y,h.width,h.height));var c=g._createCanvasElement(h.width,h.height);a.appendChild(c);var d=c.getContext("2d");d.canvas.width=h.width,d.canvas.height=h.height,d.drawImage(f,0,0,i,r,0,0,h.width,h.height);try{l(g.qrcode.decode())}catch(e){u("QR code parse error, error = ".concat(e))}},f.onerror=u,f.onabort=u,f.onstalled=u,f.onsuspend=u,f.src=URL.createObjectURL(e)})}},{key:"clear",value:function(){this._clearElement()}},{key:"getRunningTrackCapabilities",value:function(){if(null==this._localMediaStream)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(0==this._localMediaStream.getVideoTracks().length)throw"No video tracks found";return this._localMediaStream.getVideoTracks()[0].getCapabilities()}},{key:"applyVideoConstraints",value:function(e){var i=this;if(!e)throw"videoConstaints is required argument.";if(!this._isMediaStreamConstraintsValid(e))throw"invalid videoConstaints passed, check logs for more details";if(null==this._localMediaStream)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(0==this._localMediaStream.getVideoTracks().length)throw"No video tracks found";return new Promise(function(t,n){"aspectRatio"in e?n("Chaning 'aspectRatio' in run-time is not yet supported."):i._localMediaStream.getVideoTracks()[0].applyConstraints(e).then(function(e){t(e)}).catch(function(e){n(e)})})}},{key:"_clearElement",value:function(){if(this._isScanning)throw"Cannot clear while scan is ongoing, close it first.";document.getElementById(this._elementId).innerHTML=""}},{key:"_createCanvasElement",value:function(e,t,n){var i=document.createElement("canvas");return i.style.width="".concat(e,"px"),i.style.height="".concat(t,"px"),i.style.display="none",i.id=null==n?"qr-canvas":n,i}},{key:"_createVideoElement",value:function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.muted=!0,t.playsInline=!0,t}},{key:"_getShadedRegionBounds",value:function(e,t,n){if(e<n||t<n)throw"'config.qrbox' should not be greater than the width and height of the HTML element.";return{x:(e-n)/2,y:(t-n)/2,width:n,height:n}}},{key:"_possiblyInsertShadingElement",value:function(e,t,n,i){var r;t-i<1||n-i<1||((r=document.createElement("div")).style.position="absolute",r.style.borderLeft="".concat((t-i)/2,"px solid #0000007a"),r.style.borderRight="".concat((t-i)/2,"px solid #0000007a"),r.style.borderTop="".concat((n-i)/2,"px solid #0000007a"),r.style.borderBottom="".concat((n-i)/2,"px solid #0000007a"),r.style.boxSizing="border-box",r.style.top="0px",r.style.bottom="0px",r.style.left="0px",r.style.right="0px",r.id="".concat(_.SHADED_REGION_CLASSNAME),t-i<11||n-i<11?this.hasBorderShaders=!1:(this._insertShaderBorders(r,40,5,-5,0,!0),this._insertShaderBorders(r,40,5,-5,0,!1),this._insertShaderBorders(r,40,5,i+5,0,!0),this._insertShaderBorders(r,40,5,i+5,0,!1),this._insertShaderBorders(r,5,45,-5,-5,!0),this._insertShaderBorders(r,5,45,i+5-40,-5,!0),this._insertShaderBorders(r,5,45,-5,-5,!1),this._insertShaderBorders(r,5,45,i+5-40,-5,!1),this.hasBorderShaders=!0),e.append(r))}},{key:"_insertShaderBorders",value:function(e,t,n,i,r,a){var o=document.createElement("div");o.style.position="absolute",o.style.backgroundColor=_.BORDER_SHADER_DEFAULT_COLOR,o.style.width="".concat(t,"px"),o.style.height="".concat(n,"px"),o.style.top="".concat(i,"px"),a?o.style.left="".concat(r,"px"):o.style.right="".concat(r,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(o),e.appendChild(o)}},{key:"_possiblyUpdateShaders",value:function(t){this.qrMatch===t||(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(e){e.style.backgroundColor=t?_.BORDER_SHADER_MATCH_COLOR:_.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)}},{key:"_possiblyCloseLastScanImageFile",value:function(){this._lastScanImageFile&&(URL.revokeObjectURL(this._lastScanImageFile),this._lastScanImageFile=null)}},{key:"_createVideoConstraints",value:function(e){if("string"==typeof e)return{deviceId:{exact:e}};if("object"!=_typeof(e)){var t=_typeof(e);throw"Invalid type of 'cameraIdOrConfig' = ".concat(t)}function n(e){if(e in i)return 1;throw"config has invalid 'facingMode' value = "+"'".concat(e,"'")}var i={user:!0,environment:!0},r=Object.keys(e);if(1!=r.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(r.length," keys");var a=Object.keys(e)[0];if("facingMode"!=a&&"deviceId"!=a)throw"Only '".concat("facingMode","' and '").concat("deviceId","' ")+" are supported for 'cameraIdOrConfig'";if("facingMode"!=a){var o=e[a];if("string"==typeof o)return{deviceId:o};if("object"==_typeof(o)){if("exact"in o)return{deviceId:{exact:o.exact}};throw"'deviceId' should be string or object with"+" ".concat("exact"," as key.")}var s=_typeof(o);throw"Invalid type of 'deviceId' = ".concat(s)}var h=e[a];if("string"==typeof h){if(n(h))return{facingMode:h}}else{if("object"!=_typeof(h)){var c=_typeof(h);throw"Invalid type of 'facingMode' = ".concat(c)}if(!("exact"in h))throw"'facingMode' should be string or object with"+" ".concat("exact"," as key.");if(n(h.exact))return{facingMode:{exact:h.exact}}}}},{key:"_isMediaStreamConstraintsValid",value:function(e){if(!e)return _._logError("Empty videoConstraints",!0),!1;if("object"!==_typeof(e)){var t=_typeof(e);return _._logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(t,"."),!0),!1}for(var n,i=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),r=Object.keys(e),a=0;a<r.length;a++)if(n=r[a],i.has(n))return _._logError("".concat(n," is not supported videoConstaints."),!0),!1;return!0}}],[{key:"getCameras",value:function(){var o=this;return new Promise(function(a,t){navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&navigator.mediaDevices.getUserMedia?(o._log("navigator.mediaDevices used"),navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(function(r){r.oninactive=function(){return o._log("All streams closed")};navigator.mediaDevices.enumerateDevices().then(function(e){for(var t,n=[],i=0;i<e.length;i++)"videoinput"==(t=e[i]).kind&&n.push({id:t.deviceId,label:t.label});o._log("".concat(n.length," results found")),function(e){for(var t,n=e.getVideoTracks(),i=0;i<n.length;i++)(t=n[i]).enabled=!1,t.stop(),e.removeTrack(t)}(r),a(n)}).catch(function(e){t("".concat(e.name," : ").concat(e.message))})}).catch(function(e){t("".concat(e.name," : ").concat(e.message))})):MediaStreamTrack&&MediaStreamTrack.getSources?(o._log("MediaStreamTrack.getSources used"),MediaStreamTrack.getSources(function(e){for(var t,n=[],i=0;i!==e.length;++i)"video"===(t=e[i]).kind&&n.push({id:t.id,label:t.label});o._log("".concat(n.length," results found")),a(n)})):(o._log("unable to query supported devices."),t("unable to query supported devices."))})}},{key:"_getTimeoutFps",value:function(e){return 1e3/e}},{key:"_log",value:function(e){_.VERBOSE&&console.log(e)}},{key:"_logError",value:function(e,t){!_.VERBOSE&&!0!==t||console.error(e)}}]),_}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_defineProperty(Html5Qrcode,"DEFAULT_WIDTH",300),_defineProperty(Html5Qrcode,"DEFAULT_WIDTH_OFFSET",2),_defineProperty(Html5Qrcode,"FILE_SCAN_MIN_HEIGHT",300),_defineProperty(Html5Qrcode,"SCAN_DEFAULT_FPS",2),_defineProperty(Html5Qrcode,"MIN_QR_BOX_SIZE",50),_defineProperty(Html5Qrcode,"SHADED_LEFT",1),_defineProperty(Html5Qrcode,"SHADED_RIGHT",2),_defineProperty(Html5Qrcode,"SHADED_TOP",3),_defineProperty(Html5Qrcode,"SHADED_BOTTOM",4),_defineProperty(Html5Qrcode,"SHADED_REGION_CLASSNAME","qr-shaded-region"),_defineProperty(Html5Qrcode,"VERBOSE",!1),_defineProperty(Html5Qrcode,"BORDER_SHADER_DEFAULT_COLOR","#ffffff"),_defineProperty(Html5Qrcode,"BORDER_SHADER_MATCH_COLOR","rgb(90, 193, 56)");var Html5QrcodeScanner=function(){function f(e,t,n){if(_classCallCheck(this,f),this.elementId=e,this.config=t,this.verbose=!0===n,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.currentScanType=f.SCAN_TYPE_CAMERA,this.sectionSwapAllowed=!0,this.section=void 0,this.html5Qrcode=void 0,this.qrCodeSuccessCallback=void 0,this.qrCodeErrorCallback=void 0}return _createClass(f,[{key:"render",value:function(t,n){var i=this;this.lastMatchFound=void 0,this.qrCodeSuccessCallback=function(e){if(i.__setStatus("MATCH",f.STATUS_SUCCESS),t)t(e);else{if(i.lastMatchFound==e)return;i.lastMatchFound=e,i.__setHeaderMessage("Last Match: ".concat(e),f.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(e){i.__setStatus("Scanning"),n&&n(e)};var e=document.getElementById(this.elementId);e.innerHTML="",this.__createBasicLayout(e),this.html5Qrcode=new Html5Qrcode(this.__getScanRegionId(),this.verbose)}},{key:"clear",value:function(){var i=this,r=this;if(this.html5Qrcode)return new Promise(function(t,n){r.html5Qrcode._isScanning&&r.html5Qrcode.stop().then(function(){var e;r.html5Qrcode.clear(),(e=document.getElementById(i.elementId))&&(e.innerHTML="",i.__resetBasicLayout(e)),t()}).catch(function(e){r.verbose&&console.error("Unable to stop qrcode scanner",e),n(e)})})}},{key:"__createBasicLayout",value:function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.__createHeader(e);var t=document.createElement("div"),n=this.__getScanRegionId();t.id=n,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),this.__insertCameraScanImageToScanRegion();var i=document.createElement("div"),r=this.__getDashboardId();i.id=r,i.style.width="100%",e.appendChild(i),this.__setupInitialDashboard(i)}},{key:"__resetBasicLayout",value:function(e){e.style.border="none"}},{key:"__setupInitialDashboard",value:function(e){this.__createSection(e),this.__createSectionControlPanel(),this.__createSectionSwap()}},{key:"__createHeader",value:function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",t.style.padding="5px",t.style.fontSize="20px",t.style.borderBottom="1px solid rgba(192, 192, 192, 0.18)",e.appendChild(t);var n=document.createElement("span");n.innerHTML="QR Code Scanner",t.appendChild(n);var i=document.createElement("span");i.id=this.__getStatusSpanId(),i.style.float="right",i.style.padding="5px 7px",i.style.fontSize="14px",i.style.background="#dedede6b",i.style.border="1px solid #00000000",i.style.color="rgb(17, 17, 17)",t.appendChild(i),this.__setStatus("IDLE");var r=document.createElement("div");r.id=this.__getHeaderMessageContainerId(),r.style.display="none",r.style.fontSize="14px",r.style.padding="2px 10px",r.style.marginTop="4px",r.style.borderTop="1px solid #f6f6f6",t.appendChild(r)}},{key:"__createSection",value:function(e){var t=document.createElement("div");t.id=this.__getDashboardSectionId(),t.style.width="100%",t.style.padding="10px",t.style.textAlign="left",e.appendChild(t)}},{key:"__createSectionControlPanel",value:function(){var n=this,e=document.getElementById(this.__getDashboardSectionId()),t=document.createElement("div");e.appendChild(t);var i=document.createElement("div");i.id=this.__getDashboardSectionCameraScanRegionId(),i.style.display=this.currentScanType==f.SCAN_TYPE_CAMERA?"block":"none",t.appendChild(i);var r=document.createElement("div");r.style.textAlign="center";var a=document.createElement("button");a.innerHTML="Request Camera Permissions",a.addEventListener("click",function(){a.disabled=!0,n.__setStatus("PERMISSION"),n.__setHeaderMessage("Requesting camera permissions..."),Html5Qrcode.getCameras().then(function(e){n.__setStatus("IDLE"),n.__resetHeaderMessage(),e&&0!=e.length?(i.removeChild(r),n.__renderCameraSelection(e)):n.__setStatus("No Cameras",f.STATUS_WARNING)}).catch(function(e){a.disabled=!1,n.__setStatus("IDLE"),n.__setHeaderMessage(e,f.STATUS_WARNING)})}),r.appendChild(a),i.appendChild(r);var o=document.createElement("div");o.id=this.__getDashboardSectionFileScanRegionId(),o.style.textAlign="center",o.style.display=this.currentScanType==f.SCAN_TYPE_CAMERA?"none":"block",t.appendChild(o);var s=document.createElement("input");s.id=this.__getFileScanInputId(),s.accept="image/*",s.type="file",s.style.width="200px",s.disabled=this.currentScanType==f.SCAN_TYPE_CAMERA;var h=document.createElement("span");h.innerHTML="&nbsp; Select Image",o.appendChild(s),o.appendChild(h),s.addEventListener("change",function(e){var t;n.currentScanType===f.SCAN_TYPE_FILE&&0!=e.target.files.length&&(t=e.target.files[0],n.html5Qrcode.scanFile(t,!0).then(function(e){n.__resetHeaderMessage(),n.qrCodeSuccessCallback(e)}).catch(function(e){n.__setStatus("ERROR",f.STATUS_WARNING),n.__setHeaderMessage(e,f.STATUS_WARNING),n.qrCodeErrorCallback(e)}))})}},{key:"__renderCameraSelection",value:function(e){var n=this,t=document.getElementById(this.__getDashboardSectionCameraScanRegionId());t.style.textAlign="center";var i=document.createElement("span");i.innerHTML="Select Camera (".concat(e.length,") &nbsp;"),i.style.marginRight="10px";var r=document.createElement("select");r.id=this.__getCameraSelectionId();for(var a=0;a<e.length;a++){var o=e[a],s=o.id,h=null==o.label?s:o.label,c=document.createElement("option");c.value=s,c.innerHTML=h,r.appendChild(c)}i.appendChild(r),t.appendChild(i);var d=document.createElement("span"),l=document.createElement("button");l.innerHTML="Start Scanning",d.appendChild(l);var u=document.createElement("button");u.innerHTML="Stop Scanning",u.style.display="none",u.disabled=!0,d.appendChild(u),t.appendChild(d),l.addEventListener("click",function(){r.disabled=!0,l.disabled=!0,n._showHideScanTypeSwapLink(!1);var e=n.config?n.config:{fps:10,qrbox:250},t=r.value;n.html5Qrcode.start(t,e,n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(){u.disabled=!1,u.style.display="inline-block",l.style.display="none",n.__setStatus("Scanning")}).catch(function(e){n._showHideScanTypeSwapLink(!0),r.disabled=!1,l.disabled=!1,n.__setStatus("IDLE"),n.__setHeaderMessage(e,f.STATUS_WARNING)})}),u.addEventListener("click",function(){u.disabled=!0,n.html5Qrcode.stop().then(function(){n._showHideScanTypeSwapLink(!0),r.disabled=!1,l.disabled=!1,u.style.display="none",l.style.display="inline-block",n.__setStatus("IDLE"),n.__insertCameraScanImageToScanRegion()}).catch(function(e){u.disabled=!1,n.__setStatus("ERROR",f.STATUS_WARNING),n.__setHeaderMessage(e,f.STATUS_WARNING)})})}},{key:"__createSectionSwap",value:function(){var e=this,t="Scan an Image File",n="Scan using camera directly",i=document.getElementById(this.__getDashboardSectionId()),r=document.createElement("div");r.style.textAlign="center";var a=document.createElement("a");a.style.textDecoration="underline",a.id=this.__getDashboardSectionSwapLinkId(),a.innerHTML=this.currentScanType==f.SCAN_TYPE_CAMERA?t:n,a.href="#scan-using-file",a.addEventListener("click",function(){return e.sectionSwapAllowed?(e.__setStatus("IDLE"),e.__resetHeaderMessage(),e.__getFileScanInput().value="",e.sectionSwapAllowed=!1,e.currentScanType==f.SCAN_TYPE_CAMERA?(e.__clearScanRegion(),e.__getFileScanInput().disabled=!1,e.__getCameraScanRegion().style.display="none",e.__getFileScanRegion().style.display="block",a.innerHTML=n,e.currentScanType=f.SCAN_TYPE_FILE,e.__insertFileScanImageToScanRegion()):(e.__clearScanRegion(),e.__getFileScanInput().disabled=!0,e.__getCameraScanRegion().style.display="block",e.__getFileScanRegion().style.display="none",a.innerHTML=t,e.currentScanType=f.SCAN_TYPE_CAMERA,e.__insertCameraScanImageToScanRegion()),void(e.sectionSwapAllowed=!0)):void(e.verbose&&console.error("Section swap called when not allowed"))}),r.appendChild(a),i.appendChild(r)}},{key:"__setStatus",value:function(e,t){t=t||f.STATUS_DEFAULT;var n=document.getElementById(this.__getStatusSpanId());switch(n.innerHTML=e,t){case f.STATUS_SUCCESS:n.style.background="#6aaf5042",n.style.color="#477735";break;case f.STATUS_WARNING:n.style.background="#cb243124",n.style.color="#cb2431";break;case f.STATUS_DEFAULT:default:n.style.background="#eef",n.style.color="rgb(17, 17, 17)"}}},{key:"__resetHeaderMessage",value:function(){document.getElementById(this.__getHeaderMessageContainerId()).style.display="none"}},{key:"__setHeaderMessage",value:function(e,t){t=t||f.STATUS_DEFAULT;var n=document.getElementById(this.__getHeaderMessageContainerId());switch(n.innerHTML=e,n.style.display="block",t){case f.STATUS_SUCCESS:n.style.background="#6aaf5042",n.style.color="#477735";break;case f.STATUS_WARNING:n.style.background="#cb243124",n.style.color="#cb2431";break;case f.STATUS_DEFAULT:default:n.style.background="#00000000",n.style.color="rgb(17, 17, 17)"}}},{key:"_showHideScanTypeSwapLink",value:function(e){!0!==e&&(e=!1),this.sectionSwapAllowed=e,this.__getDashboardSectionSwapLink().style.display=e?"inline-block":"none"}},{key:"__insertCameraScanImageToScanRegion",value:function(){var e=this,t=document.getElementById(this.__getScanRegionId());return this.cameraScanImage?(t.innerHTML="<br>",void t.appendChild(this.cameraScanImage)):(this.cameraScanImage=new Image,this.cameraScanImage.onload=function(){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity=.3,void(this.cameraScanImage.src=f.ASSET_CAMERA_SCAN))}},{key:"__insertFileScanImageToScanRegion",value:function(){var e=this,t=document.getElementById(this.__getScanRegionId());return this.fileScanImage?(t.innerHTML="<br>",void t.appendChild(this.fileScanImage)):(this.fileScanImage=new Image,this.fileScanImage.onload=function(){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity=.3,void(this.fileScanImage.src=f.ASSET_FILE_SCAN))}},{key:"__clearScanRegion",value:function(){document.getElementById(this.__getScanRegionId()).innerHTML=""}},{key:"__getDashboardSectionId",value:function(){return"".concat(this.elementId,"__dashboard_section")}},{key:"__getDashboardSectionCameraScanRegionId",value:function(){return"".concat(this.elementId,"__dashboard_section_csr")}},{key:"__getDashboardSectionFileScanRegionId",value:function(){return"".concat(this.elementId,"__dashboard_section_fsr")}},{key:"__getDashboardSectionSwapLinkId",value:function(){return"".concat(this.elementId,"__dashboard_section_swaplink")}},{key:"__getScanRegionId",value:function(){return"".concat(this.elementId,"__scan_region")}},{key:"__getDashboardId",value:function(){return"".concat(this.elementId,"__dashboard")}},{key:"__getFileScanInputId",value:function(){return"".concat(this.elementId,"__filescan_input")}},{key:"__getStatusSpanId",value:function(){return"".concat(this.elementId,"__status_span")}},{key:"__getHeaderMessageContainerId",value:function(){return"".concat(this.elementId,"__header_message")}},{key:"__getCameraSelectionId",value:function(){return"".concat(this.elementId,"__camera_selection")}},{key:"__getCameraScanRegion",value:function(){return document.getElementById(this.__getDashboardSectionCameraScanRegionId())}},{key:"__getFileScanRegion",value:function(){return document.getElementById(this.__getDashboardSectionFileScanRegionId())}},{key:"__getFileScanInput",value:function(){return document.getElementById(this.__getFileScanInputId())}},{key:"__getDashboardSectionSwapLink",value:function(){return document.getElementById(this.__getDashboardSectionSwapLinkId())}}]),f}();_defineProperty(Html5QrcodeScanner,"SCAN_TYPE_CAMERA","SCAN_TYPE_CAMERA"),_defineProperty(Html5QrcodeScanner,"SCAN_TYPE_FILE","SCAN_TYPE_FILE"),_defineProperty(Html5QrcodeScanner,"STATUS_SUCCESS","STATUS_SUCCESS"),_defineProperty(Html5QrcodeScanner,"STATUS_WARNING","STATUS_WARNING"),_defineProperty(Html5QrcodeScanner,"STATUS_DEFAULT","STATUS_DEFAULT"),_defineProperty(Html5QrcodeScanner,"ASSET_FILE_SCAN","https://raw.githubusercontent.com/mebjas/html5-qrcode/master/assets/file-scan.gif"),_defineProperty(Html5QrcodeScanner,"ASSET_CAMERA_SCAN","https://raw.githubusercontent.com/mebjas/html5-qrcode/master/assets/camera-scan.gif");   

            Html5Qrcode.getCameras().then(devices => {
      /**
        * devices would be an array of objects of type:
        * { id: "id", label: "label" }
       */
      

//       id: "39cf8c52af1407579be3ab9b5a3d8b462d337ca3ac05b73d6fbb5b92584ee045"
// label: "EasyCamera (04f2:b5da)"
       if (devices && devices.length) {
           for(var i=0;i<devices.length;i++){
               console.log(devices[i]);
           }
           var cameraId = devices[0].id;
            // .. use this to start scanning.
        }
   }).catch(err => {
        // handle err   
});

const html5QrCode = new Html5Qrcode("main");
html5QrCode.start(
  "775066d28622650071aab54c982582ae8b554b0cc8fdbce3daabf92bc7a2b3b6", 
  {
    fps: 10,    // Optional frame per seconds for qr code scanning
    qrbox: 250  // Optional if you want bounded box UI
  },
  qrCodeMessage => {
    console.log('qrCodeMessage');
    html5QrCode.stop().then(ignore => {
  // QR Code scanning is stopped. 
  console.log("QR Code scanning stopped.");
}).catch(err => { 
  // Stop failed, handle it. 
  console.log("Unable to stop scanning");
 });
  },
  errorMessage => {
    console.log('error');
  })
.catch(err => {
    console.log('catch');
});
        </script>
    </body>
</html>